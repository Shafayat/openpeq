# OpenPEQ

WebHID parametric EQ configurator. One codebase, two targets: web app (GitHub Pages) and desktop app (Electron for Windows).

## Prerequisites

- Node.js 18+
- `npm install`

## Development

```bash
# Web (browser)
npm run dev:web

# Electron (desktop)
npm run dev
```

## Build & Deploy

### Web (GitHub Pages)

```bash
npm run build:web
```

Output: `dist/` â€” deploy to any static host.

### Electron (Windows .exe)

```bash
# 1. (Optional) Bundle community EQ profiles for offline use (~3MB)
npm run bundle-autoeq

# 2. Build installer
npm run build:win
```

Output: `dist-electron/OpenPEQ-1.0.0-setup.exe`

To build unpacked (no installer, for testing):

```bash
npm run build:unpack
```

Output: `dist-electron/win-unpacked/OpenPEQ.exe`

## Project Structure

```
src/
  main/           Electron main process (WebHID, IPC)
  preload/        Electron IPC bridge
  renderer/       React app (shared by web + Electron)
    src/
      components/
      lib/
      store/
      types/
resources/
  fonts/          Bundled Inter font
  autoeq-bundle.json  (generated by bundle-autoeq)
scripts/
  bundle-autoeq.ts    Downloads all AutoEQ profiles
```

## Scripts

| Script | Description |
|--------|-------------|
| `dev` | Electron dev with HMR |
| `dev:web` | Web dev server |
| `build` | Build Electron app |
| `build:web` | Build web app |
| `build:win` | Build Windows installer (.exe) |
| `build:unpack` | Build unpacked Electron app |
| `bundle-autoeq` | Download all AutoEQ profiles for offline |
| `lint` | Run ESLint |
